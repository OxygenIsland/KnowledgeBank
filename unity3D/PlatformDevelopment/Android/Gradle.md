---
title: "[[Gradle]]"
type: Permanent
status: done
Creation Date: 2025-08-12 17:11
tags:
---

Gradle æ˜¯ä¸€ä¸ªåŸºäº â€‹**â€‹JVMï¼ˆJavaè™šæ‹Ÿæœºï¼‰çš„å¼€æºæ„å»ºè‡ªåŠ¨åŒ–å·¥å…·â€‹**â€‹ï¼Œä¸»è¦ç”¨äºç®¡ç†é¡¹ç›®çš„ç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ã€ä¾èµ–ç®¡ç†ç­‰æµç¨‹ã€‚å®ƒç»“åˆäº† Apache Ant çš„çµæ´»æ€§å’Œ Apache Maven çš„ä¾èµ–ç®¡ç†æœºåˆ¶ï¼Œä½†é‡‡ç”¨æ›´ç®€æ´çš„ â€‹**â€‹é¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰â€‹**â€‹ï¼ˆåŸºäº Groovy æˆ– Kotlinï¼‰æ›¿ä»£ä¼ ç»Ÿçš„ XML é…ç½®ï¼Œæ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ã€‚ä»¥ä¸‹æ˜¯å…¶æ ¸å¿ƒè¦ç‚¹ï¼š

### ğŸ”§ â€‹**â€‹ä¸€ã€æ ¸å¿ƒåŠŸèƒ½ä¸ç‰¹ç‚¹â€‹**â€‹
1. â€‹**â€‹è‡ªåŠ¨åŒ–æ„å»ºâ€‹**â€‹
    - åƒä¸€æ¡â€œæ™ºèƒ½æµæ°´çº¿â€ğŸ› ï¸ï¼Œè‡ªåŠ¨å®Œæˆä»£ç ç¼–è¯‘ï¼ˆå¦‚ Javaâ†’å­—èŠ‚ç ï¼‰ã€èµ„æºæ‰“åŒ…ï¼ˆç”Ÿæˆ APK/JARï¼‰ã€è¿è¡Œæµ‹è¯•ã€ä»£ç æ··æ·†ï¼ˆProGuard/R8ï¼‰ç­‰ä»»åŠ¡ã€‚
    - â€‹**â€‹å¢é‡æ„å»ºâ€‹**â€‹ï¼šä»…é‡æ–°ç¼–è¯‘ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œå¤§å¹…æå‡æ„å»ºé€Ÿåº¦ã€‚
2. â€‹**â€‹å¼ºå¤§çš„ä¾èµ–ç®¡ç†â€‹**â€‹
    - è‡ªåŠ¨ä» â€‹**â€‹Maven Centralâ€‹**â€‹ã€â€‹**â€‹Google Mavenâ€‹**â€‹ ç­‰ä»“åº“ä¸‹è½½ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Retrofitã€Glideï¼‰ï¼Œè§£å†³ç‰ˆæœ¬å†²çªä¸ä¼ é€’ä¾èµ–é—®é¢˜ã€‚
    - é…ç½®ç¤ºä¾‹ï¼ˆGroovy DSLï¼‰ï¼š
```groovy
dependencies {
    implementation 'androidx.appcompat:appcompat:1.6.1'  // è¿œç¨‹åº“
    implementation project(':mylibrary')                 // æœ¬åœ°æ¨¡å—
}
```    
3. â€‹**â€‹æ’ä»¶ç”Ÿæ€ç³»ç»Ÿâ€‹**â€‹
    - é€šè¿‡æ’ä»¶æ‰©å±•åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š
        - `com.android.application`ï¼šæ”¯æŒ Android åº”ç”¨æ‰“åŒ…ã€‚
        - `java`ï¼šç¼–è¯‘ Java é¡¹ç›®ã€‚
        - è‡ªå®šä¹‰æ’ä»¶ï¼šæ»¡è¶³ç‰¹å®šæ„å»ºéœ€æ±‚ï¼ˆå¦‚ CI/CD ä»»åŠ¡ï¼‰ã€‚
4. â€‹**â€‹å¤šé¡¹ç›®ä¸å¤šè¯­è¨€æ”¯æŒâ€‹**â€‹
    - â€‹**â€‹å¤šæ¨¡å—é¡¹ç›®â€‹**â€‹ï¼šç®¡ç†å¤§å‹å·¥ç¨‹ä¸­æ¨¡å—çš„ä¾èµ–å…³ç³»ï¼ˆå¦‚ App æ¨¡å—ä¾èµ– Library æ¨¡å—ï¼‰ã€‚
    - â€‹**â€‹è¯­è¨€å…¼å®¹â€‹**â€‹ï¼šæ”¯æŒ Javaã€Kotlinã€C++ã€Swift ç­‰ï¼Œé€‚ç”¨äº Androidã€åç«¯ã€è·¨å¹³å°é¡¹ç›®ã€‚

---

### âš–ï¸ â€‹**â€‹äºŒã€Gradle vs. Maven/Antâ€‹**â€‹

|ç‰¹æ€§|Gradle|Maven/Ant|
|---|---|---|
|â€‹**â€‹é…ç½®è¯­è¨€â€‹**â€‹|Groovy/Kotlin DSLï¼ˆç®€æ´çµæ´»ï¼‰|XMLï¼ˆå†—é•¿å¤æ‚ï¼‰|
|â€‹**â€‹ä¾èµ–ç®¡ç†â€‹**â€‹|âœ… è‡ªåŠ¨è§£å†³å†²çª|âœ… æ”¯æŒä½†çµæ´»æ€§ä½|
|â€‹**â€‹æ„å»ºæ€§èƒ½â€‹**â€‹|âš¡ å¢é‡æ„å»ºä¸ç¼“å­˜ä¼˜åŒ–|âš ï¸ å…¨é‡ç¼–è¯‘è¾ƒæ…¢|
|â€‹**â€‹æ‰©å±•æ€§â€‹**â€‹|ğŸ’¡ æ”¯æŒè‡ªå®šä¹‰ä»»åŠ¡ä¸é€»è¾‘|âŒ æœ‰é™|

> ä¾‹ï¼šGradle å¯åŠ¨æ€ç”Ÿæˆç‰ˆæœ¬å·ï¼Œè€Œ Maven éœ€æ‰‹åŠ¨ä¿®æ”¹ XML ã€‚

---

### ğŸ“± â€‹**â€‹ä¸‰ã€åœ¨ Android å¼€å‘ä¸­çš„æ ¸å¿ƒä½œç”¨â€‹**â€‹

Android Studio â€‹**â€‹é»˜è®¤é›†æˆ Gradleâ€‹**â€‹ï¼Œç”¨äºï¼š
1. â€‹**â€‹æ„å»º APKâ€‹**â€‹ï¼š  
    æ‰§è¡ŒÂ `assembleDebug`Â æˆ–Â `assembleRelease`Â ä»»åŠ¡ç”Ÿæˆå®‰è£…åŒ…ã€‚
2. â€‹**â€‹å¤šæ¸ é“æ‰“åŒ…â€‹**â€‹ï¼š  
    é€šè¿‡Â `productFlavors`Â ä¸ºä¸åŒåº”ç”¨å¸‚åœºå®šåˆ¶ç‰ˆæœ¬ï¼š
```Groovy
android {
    productFlavors {
        free { applicationId "com.app.free" }
        paid { applicationId "com.app.paid" }
    }
}
```
3. â€‹**â€‹ç®¡ç†ä¾èµ–â€‹**â€‹ï¼š  
    ç»Ÿä¸€ç®¡ç† SDKã€æµ‹è¯•åº“ï¼ˆå¦‚ JUnitï¼‰ã€‚
4. â€‹**â€‹ä»£ç ä¼˜åŒ–â€‹**â€‹ï¼š  
    é›†æˆ ProGuard/R8 æ··æ·†ä»£ç ï¼Œç¼©å‡ APK ä½“ç§¯ã€‚

---

### ğŸ› ï¸ â€‹**â€‹å››ã€å·¥ä½œæµç¨‹ç¤ºä¾‹â€‹**â€‹

1. â€‹**â€‹åˆå§‹åŒ–â€‹**â€‹ï¼š  
    åˆ›å»ºÂ `build.gradle`Â æ–‡ä»¶ï¼Œå£°æ˜æ’ä»¶ä¸ä»“åº“ï¼š
```Groovy
plugins { id 'com.android.application' }
repositories { google(); mavenCentral() }
```
2. â€‹**â€‹é…ç½®ä»»åŠ¡â€‹**â€‹ï¼š  
    è‡ªå®šä¹‰ä»»åŠ¡ï¼ˆå¦‚æ‰“å°æ—¥å¿—ï¼‰ï¼š
```Groovy
tasks.register('hello') {
    doLast { println 'Hello, Gradle!' }
}
```
3. â€‹**â€‹æ‰§è¡Œå‘½ä»¤â€‹**â€‹ï¼š
    - `./gradlew build`ï¼šå®Œæ•´æ„å»ºé¡¹ç›®ã€‚
    - `./gradlew :app:assembleDebug`ï¼šç”Ÿæˆè°ƒè¯•ç‰ˆ APKã€‚

---

### ğŸ’¡ â€‹**â€‹äº”ã€æœ€ä½³å®è·µâ€‹**â€‹
1. â€‹**â€‹ä½¿ç”¨ Gradle Wrapperâ€‹**â€‹ï¼š  
    é€šè¿‡Â `gradlew`Â è„šæœ¬é”å®šç‰ˆæœ¬ï¼Œé¿å…ç¯å¢ƒå·®å¼‚é—®é¢˜ã€‚
2. â€‹**â€‹æ€§èƒ½ä¼˜åŒ–â€‹**â€‹ï¼š  
    åœ¨Â `gradle.properties`Â ä¸­å¯ç”¨å¹¶è¡Œæ„å»ºä¸å®ˆæŠ¤è¿›ç¨‹ï¼š
```properties
org.gradle.parallel=true
org.gradle.daemon=true
```    
3. â€‹**â€‹ç‰ˆæœ¬å¯¹é½â€‹**â€‹ï¼š  
    ç¡®ä¿ Android Studioã€Gradle æ’ä»¶ã€Gradle ç‰ˆæœ¬å…¼å®¹ï¼ˆå¦‚ Android Studio Chipmunk â†’ Gradle 7.0+ï¼‰