根据已有的 3DGS 场景，通过场景中不同物体的语义标签，在数据库中进行查询，找到对应的语义相近的物体模型，最后进行裁剪替换
主要存在的问题如下：
1、如何根据语义标签进行查询，找到语义相近的模型？（这一步论文中有提到具体的方法）
2、如何进行裁剪替换？
![[Pasted image 20241108183307.png]]
先解决第一个问题
首先要构建表亲数据库，数据库中的每一个表亲数据都应该具有以下的数据
$ai = (ti, Ii, \{iis\}_{s=1}^{Nsnap})$
其中, **ti**是资产类别，**Ii**是代表性快照，${iis}_{s=1}^{Nsnap}$ 是该资产的多个快照， Nsnap 表示快照的数量。

给定一个输入物体表示（**oi**），应该包含以下信息，
${oi=(li,mi,pi,xi)}_{i=1}^{N}$
其中**物体标签（li）**、**物体掩模（mi）**、**物体点云（pi）** 和**物体像素（xi）**

计算**CLIP 相似度**得分 来选取候选的资产类别。 选择 $k_{cat}$ 个最接近的类别。

在这 $k_{cat}$ 中，计算 **DINOv 2 特征嵌入距离** 选择 $k_{cand}$ 个最接近的数字表亲候选。

最后对每个候选数字表亲的所有**快照**（**iis**）计算**DINOv2嵌入距离**。即对于每个候选资产的不同方向的快照，重新计算与输入物体区域的匹配度。
选择**kcous**个最接近的数字表亲（即最符合要求的虚拟资产），每个选中的数字表亲包括：
	    - **虚拟资产（Ac）**：选择的虚拟资产。
	    - **特定方向（qc）**：基于选中的快照，确定的虚拟资产的方向。

关于第二个问题，展开思考一下：
首先我们已有的或者可以算出来的数据如下：
	- 对于数字表亲的数据我们有：bounding box center
	-
1、根据 digital cousins 的 bounding box center，我们可以将数字表亲模型放到对应位置吗？
需要算法构建出来的场景 mesh 是由不同语义的 mesh 组合起来的，那我们就可以获得对应语义 mesh 的空间坐标（要以模型的质心坐标为准），从而将表亲数据放置到对应位置

如果生成的 mesh 是一个整体该如何处理？
通过 pointnet++进行场景语义分割？准确率堪忧!！
人工手动去裁剪组合

2、替换之后的 Nerf 画面该如何处理？既然是机器人的仿真训练平台，nerf 画面就属于次要矛盾，可以先放在一边
